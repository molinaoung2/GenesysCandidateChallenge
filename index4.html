<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TEST 4</title>
  <style>
    #bc_invite_container {
      font-family: Arial, sans-serif;
      background-color: white;
      top: 50%;
      font-size: 14px;
      position: fixed;
      right: 50%;
      width: 19em;
      box-sizing: border-box;
      display: inline-block;
      /* PARAMETER: Shadow under invite, remove next three lines to remove */
      -webkit-box-shadow: -0.3em -0.3em 1em 0 rgba(0, 0, 0, 0.7);
      -moz-box-shadow: -0.3em -0.3em 1em 0 rgba(0, 0, 0, 0.7);
      box-shadow: -0.3em -0.3em 1em 0 rgba(0, 0, 0, 0.7);
      transform: translate(50%, -50%);

      @media (max-width: 1024px) {
        width: 30em;
        font-size: 10px;
      }

      @media (max-width: 390px) {
        width: 100%;
        font-size: 10px;
      }
    }

    #bc_header_container {
      background-color: #0055A4;
      font-size: 1em;
      height: 3em;
      box-sizing: border-box;
      padding: 0.7em 1em;
    }

    #bc_title {
      font-size: 1.4em;
      color: white;
    }

    #bc_body_container {
      background-color: yellow;
      font-size: 1em;
      height: 5em;
      width: 100%;
      box-sizing: border-box;
      text-align: center; /*center action button by moving it to the center from the left*/
    }

    #bc_action_button {
      font-size: 1.5em;
      height: 2em;
      width: 7.7em;
      background: #3e852e;
      background: linear-gradient(to bottom, #3e852e 0%, #35a91b 100%);
      cursor: pointer;
      color: white;
      border: 0;
      text-decoration: none;
      border-radius: 2px;
      margin: 14px auto; /*center action button by moving it down from the top*/
    }

    #bc_action_button:hover {
      background: #35a91b;
      background: linear-gradient(to top, #3e852e 0%, #35a91b 100%);
    }

    #bc_close_container {
      font-size: 1em;
      position: absolute;
      height: 3em;
      width: 3em;
      background-color: yellow;
      right: 0;
      top: 0;
      text-align: center;
    }

    #bc_close_button {
      font-size: 1em;
      width: 3em;
      height: 3em;
      background-color: transparent;
      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAAFYBAMAAADkQvlzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAVUExURQBVpI3X47zo7/P6/fb8+fn9+////9jdyVMAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTJDBGvsAAACzElEQVR42u3cS27bQBBF0UYMcB0eecxRlpBxlqBEAPe/BAfUB6TET1cBwXsF3DsnRB1LlkRWd2tEREREREREREREREREREREREREREREREREREREREREREREREREZfoYU0ddJCf785o6avpUwE7TmDrqqoBNPey/o6ZRAZt42PmoqwI28bDzUZPmZKO0M+x00bwMorQi2BStCjZFK4NN0OpgE7RC2DCtEjZMK4UN0mphg7Ri2BCtGjZEK4cN0OphA7QGsN20DrDdtBawnbQesJ20JrBdtC6wXbQ2sB20PrAdtEawp7ROsKe0VrAntF6wJ7RmsIe0brCHtHawB7S3p/HX6mR3aW/P4rNVoHWE3aW1hN2h9YTdoTWF3aR1hd2ktYXdoPWF3aA1hn2jdYZ9o7WGfaH1hn2hNYdd0brDrmjtYRe0/rAL2gKwT9oKsA/ae+awD9oSsCtae9gFrT/sgrYA7JO2Amxrw+1kf1c62Usr9DK4tkpvsLEObAnaxYfCWAe2AO0d9lcJ2vtXxB8VaJ9fvr8K0D5/1hSgXfxg9Kdd/BS3p11d5HCnXV0+Mqd9uTDnTftyydOa9u1isjPt22V6Y9qNGyC+tBu3lmxpN2/audJu3g41pd250exJu3ML35J2dzjCkXZ37MSQ9mCgx4/2YFTKjvZwCM2N9nC8z4z2ZHDSi/ZkJNWK9nTYdzCiPZ9Q96HtGFD3oe1ZVeFC27WowoW2byWQB23nQiAP2t7Vaw603YvXHGj7V1zqaQMLLvW0kVXCatrQImE1bWxlu5Y2uLBdSxvdjUFJG96MQUkb30FER5vYQERHm9n1RkWb2vRGRZvaTkhFm9uoadAsZcttgTXT/pG8wRJ/z0Ez95fbtq2J/tHmNsQbNB9hua0GW4lJOiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiL6n30DocAOJHCEjHMAAAAASUVORK5CYII=');
      background-repeat: no-repeat;
      background-size: cover;
      cursor: pointer;
      border: none;
      padding: 0;
      outline-style: none;
    }

    #bc_close_button:focus {
      outline-style: solid;
      outline-width: 2px;
      outline-color: white;
      outline-offset: -2px;
    }
    /*Tooltip text*/
    .tooltiptext {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      opacity: 0;
      transition: opacity 0.3s;
      position: absolute;
    }
    /*show the tooltip text when hovering over the tooltip container*/
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
  </style>
</head>

<body>

  <h1>TEST 4</h1>

  <div id="bc_invite_container">
    <div id="bc_header_container">
      <div id="bc_title">Live Chat</div>
      <!--update the close button with a tooltip -->
      <div class="tooltip" id="bc_close_container"> <!-- Update the close button with a tooltip -->
        <button id="bc_close_button" tabindex="0" aria-label="Close Invitation to chat"></button>
        <span class="tooltiptext">Close Invitation to chat</span>

      </div>
    </div>
    <!--update the chat button with a tooltip -->
    <div class="tooltip" id="bc_body_container"> <!-- Update the chat button with a tooltip -->
      <button id="bc_action_button" tabindex="0" aria-label="Chat now">Chat Now</button>
      <span class="tooltiptext">Chat now
      </span>
    </div>
  </div>


  <script>

    //Get the necessary elements
    const inviteContainer = document.getElementById('bc_invite_container');
    const closeButton = document.getElementById('bc_close_button');


    //add a click event listener to the close button
    closeButton.addEventListener('click', function () {
      console.log('close button clicked');
      let opacity = 1; //initial opacity set to fully visible 

      //Interval to gradually reduce opacity for a manual fade-out effect 
      const fadeOutInterval = setInterval(function () {
        opacity -= 0.05; //Adjust this value to control the fade-out speed

        //apply the new opacity to the invite container
        inviteContainer.style.opacity = opacity;

        //check if opacity reaches 0; hide the container and clear the interval
        if (opacity <= 0) {
          inviteContainer.style.display = 'none';//hide the container
          clearInterval(fadeOutInterval);//stop the interval

        }
      }, 100); //interval duration for each opacity change (adjust as needed)
    });

  </script>
</body>

</html>